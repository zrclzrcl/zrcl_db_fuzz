CREATE TABLE v1 (v1 INTEGER, v2 INTEGER, v3 REAL, v4 TEXT);
CREATE TRIGGER trg2 BEFORE UPDATE ON v1 BEGIN 
    UPDATE v1 SET v2 = v2 + 1 WHERE v3 = OLD.v3;
    INSERT INTO v1 (v1, v2, v3, v4) VALUES (NULL, NEW.v2, NEW.v3 + 1, NEW.v4);
END;
INSERT INTO v1 (v1, v2, v3, v4) VALUES (1, 10, 2.5, 'foo'), (2, 20, 3.5, 'bar');
UPDATE v1 SET v3 = v3 + 0.1 WHERE v2 IN (SELECT MAX(v2) FROM v1);
SELECT v4 FROM v1 WHERE v1 = (SELECT MIN(v1) FROM v1);
