CREATE TABLE v3 (v1 INTEGER, v2 TEXT, v3 REAL CHECK(v1 > 0));
CREATE TEMP VIEW v_view2 AS SELECT v1, SUM(v3) AS total FROM v3 GROUP BY v1;
CREATE TRIGGER trg4 AFTER UPDATE ON v3 BEGIN 
    INSERT INTO v3 (v1, v2, v3) VALUES (NEW.v1 + 1, NEW.v2 || ' updated', NEW.v3 * 2);
END;
INSERT INTO v3 (v1, v2, v3) VALUES (1, 'data1', 1.1);
UPDATE v3 SET v3 = (SELECT AVG(v3) FROM v3);
SELECT * FROM v_view2 WHERE total > 0;